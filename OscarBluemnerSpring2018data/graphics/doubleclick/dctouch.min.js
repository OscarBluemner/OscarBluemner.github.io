/*
 dctouch.min.js
 
 Based on the dblclick plugin for KRPanoJS
 by Aldo Hoeben / fieldOfView.com
 http://fieldofview.github.com/krpano_fovplugins/dblclick/plugin.html
 This software can be used free of charge and the source code is available under a Creative Commons Attribution license: 
 http://creativecommons.org/licenses/by/3.0/	
 */
(function(){
var c=null;krpanoplugin=function(){function b(){a.call(i)}var a=c,d=c,i=c;this.registerplugin=this.e=function(f,e,h){a=f;d=h;"1.0.8.14">a.version||"2011-03-30">a.build?a.trace(3,"dblclick plugin - too old krpano version (min. 1.0.8.14)"):(d.registerattribute("ondblclick","",function(a){i=a},function(){return i}),a.control.layer.addEventListener("dblclick",b,!0),jQuery(a.control.layer).doubletap("ontouchstart"in window||"ontouchstart"in document.documentElement||window.g&&document instanceof DocumentTouch,function(){b()}))};this.unloadplugin=this.f=
function(){a.control.layer.removeEventListener("dblclick",b);a=d=c}};jQuery.fn.doubletap=function(b,a){if(b){var d=c;jQuery(this).bind("touchstart",function(){d=(new Date).getTime()});jQuery(this).bind("touchend",function(b){var f=(new Date).getTime(),e=jQuery(this).data("lastTouch")||f+1,h=f-e,e=d-e;400>e&&0<e&&400>h&&0<h&&a!=c&&"function"==typeof a&&a(b);jQuery(this).data("lastTouch",f)})}};
})();